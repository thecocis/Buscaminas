package Tests;

import static org.junit.Assert.*;
import java.util.Arrays;
import java.util.Collection;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.Parameterized;
import Buscaminas.*;

@RunWith(Parameterized.class)
public class AbrirCasillaTests {
	
	private int[][] _tableroInterno;
	private char[][] _tableroUsuario;
	private int _m;
	private int _n;
	private int _accion;
	private AbrirCasilla _sut;
	private int _fila;
	private int _columna;
	private char[][] _expected;
	private String _mensaje;
		
	@Before
	public void inicializacion() {
		_sut = new AbrirCasilla();
	}
	
	public AbrirCasillaTests(int m, int n, int fila, int columna, int accion, String mensaje, int[][] tableroInterno, char[][] tableroUsuario, char[][] expected) {
		_tableroInterno = tableroInterno;
		_tableroUsuario = tableroUsuario;
		_m = m;
		_n = n;
		_accion = accion;
		_fila = fila;
		_columna = columna;
		_expected = expected;
		_mensaje = mensaje;
	}	
	
	@Parameterized.Parameters
	public static Collection<Object[]> getData() {
		return Arrays.asList(new Object[][] {
			//numeros
			{8 ,8, 0, 1, 1, "Comprobación solo numero al abrir casilla con tablero vacío 1.0",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '1', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			
			//marcar bombas
			{8 ,8, 0, 1, 3, "Comprobación marcar una bomba ! con tablero vacío 1.0",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '!', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			
			//marcar interrogantes
			{8 ,8, 0, 0, 4, "Comprobación marcar una interrogante ? con tablero vacío 1.0",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'?', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			
			//Marcar una bandera
			{8 ,8, 0, 0, 2, "Comprobación marcar una bandera P con tablero vacío 1.0",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'P', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			
			//hay bomba y picas
			{8 ,8, 0, 0, 1, "Comprobación hay una bomba y picas con tablero vacío 1.0",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'X', '-', '-', '-', '-', '-', '-', 'X'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', 'X', '-', '-', '-', 'X'},{'-', '-', 'X', 'X', '-', 'X', '-', '-'},{'X', '-', '-', '-', '-', '-', 'X', 'X'},{'-', '-', '-', 'X', '-', '-', 'X', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			{8 ,8, 0, 7, 1, "Comprobación hay una bomba y picas con tablero vacío 1.1",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'X', '-', '-', '-', '-', '-', '-', 'X'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', 'X', '-', '-', '-', 'X'},{'-', '-', 'X', 'X', '-', 'X', '-', '-'},{'X', '-', '-', '-', '-', '-', 'X', 'X'},{'-', '-', '-', 'X', '-', '-', 'X', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			{8 ,8, 5, 0, 1, "Comprobación hay una bomba y picas con tablero vacío 1.2",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'X', '-', '-', '-', '-', '-', '-', 'X'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', 'X', '-', '-', '-', 'X'},{'-', '-', 'X', 'X', '-', 'X', '-', '-'},{'X', '-', '-', '-', '-', '-', 'X', 'X'},{'-', '-', '-', 'X', '-', '-', 'X', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			
			//Abrir casilla todos los 0 y numeros circundantes
			{8 ,8, 0, 4, 1, "Comprobación abrir 0 y circundates de golpe con tablero vacío 1.0",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '1', '0', '0', '0', '0', '1', '-'},{'1', '1', '0', '0', '0', '0', '1', '-'},{'0', '0', '1', '1', '1', '0', '1', '-'},{'0', '1', '3', '-', '3', '1', '2', '-'},{'1', '2', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			{8 ,8, 0, 3, 1, "Comprobación abrir 0 y circundates de golpe con tablero vacío 1.1",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '1', '0', '0', '0', '0', '1', '-'},{'1', '1', '0', '0', '0', '0', '1', '-'},{'0', '0', '1', '1', '1', '0', '1', '-'},{'0', '1', '3', '-', '3', '1', '2', '-'},{'1', '2', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			{8 ,8, 1, 2, 1, "Comprobación abrir 0 y circundates de golpe con tablero vacío 1.2",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '1', '0', '0', '0', '0', '1', '-'},{'1', '1', '0', '0', '0', '0', '1', '-'},{'0', '0', '1', '1', '1', '0', '1', '-'},{'0', '1', '3', '-', '3', '1', '2', '-'},{'1', '2', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			{8 ,8, 1, 5, 1, "Comprobación abrir 0 y circundates de golpe con tablero vacío 1.3",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '1', '0', '0', '0', '0', '1', '-'},{'1', '1', '0', '0', '0', '0', '1', '-'},{'0', '0', '1', '1', '1', '0', '1', '-'},{'0', '1', '3', '-', '3', '1', '2', '-'},{'1', '2', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			{8 ,8, 2, 5, 1, "Comprobación abrir 0 y circundates de golpe con tablero vacío 1.4",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '1', '0', '0', '0', '0', '1', '-'},{'1', '1', '0', '0', '0', '0', '1', '-'},{'0', '0', '1', '1', '1', '0', '1', '-'},{'0', '1', '3', '-', '3', '1', '2', '-'},{'1', '2', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			{8 ,8, 2, 1, 1, "Comprobación abrir 0 y circundates de golpe con tablero vacío 1.5",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '1', '0', '0', '0', '0', '1', '-'},{'1', '1', '0', '0', '0', '0', '1', '-'},{'0', '0', '1', '1', '1', '0', '1', '-'},{'0', '1', '3', '-', '3', '1', '2', '-'},{'1', '2', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
			{8 ,8, 3, 0, 1, "Comprobación abrir 0 y circundates de golpe con tablero vacío 1.6",
				new int[][] {{9,1,0,0,0,0,1,9},{1,1,0,0,0,0,1,1},{0,0,1,1,1,0,1,1},{0,1,3,9,3,1,2,9},{1,2,9,9,3,9,4,3},{9,2,3,3,3,3,9,9},{1,1,1,9,1,2,9,3},{0,1,1,1,1,1,1,1}},
				new char[][]{{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}},
				new char[][]{{'-', '1', '0', '0', '0', '0', '1', '-'},{'1', '1', '0', '0', '0', '0', '1', '-'},{'0', '0', '1', '1', '1', '0', '1', '-'},{'0', '1', '3', '-', '3', '1', '2', '-'},{'1', '2', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'},{'-', '-', '-', '-', '-', '-', '-', '-'}}},
						
		});
	}	
	
	@Test
	public void testOfAbrirCasilla() {
		assertArrayEquals(_mensaje, _expected, _sut.abrirCasilla(_fila, _columna, _accion, _tableroUsuario, _tableroInterno, _m, _n));
	}
	
	///TEST DE PICAR CASILLA YA PICADA Y QUE SALGA IGUAL y de errores de marcas
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

}
